<!doctype html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>11 Exo d'Algo - Converter !</title>
    <link href="./bootstrap.min.css" rel="stylesheet" />
    <link href="./style.css" rel="stylesheet" />
</head>
<body>
<a href="index.html">← revenir à la liste des exos</a>
<div class="card">
    <p class="h6 font-weight-bold text-center">#11 - Convertisseur</p>
    <div class="instructions">
        <p class="text-secondary">Votre mission si toutefois vous l'acceptez, est de faire un convertisseur EUR/USD en partant de presque rien !</p>
        <br />
        <p class="text-secondary">Si je rentre <i class="text-dark">10 Euros</i> mon programme retourne <i class="text-dark">10 Euros -> 10.79 Dollars</i></p>
        <p class="text-secondary">Si je rentre <i class="text-dark">10 Dollars</i> mon programme retourne <i class="text-dark">10 Dollars -> 9.32 Euros</i></p>
        <p class="text-secondary">La valeur doit-être arrondi à deux chiffres après la virgule</p>
    </div>

    <label>Entrez une valeur</label>
    <br/>
    <input type="text" id="value" />

    <select name="currency" id="currencies">
        <option value="eur" selected="selected">Euros</option>
        <option value="usd">Dollars</option>
    </select>

    <br/>
    <button type="button" class="btn btn-primary" onclick="convert()">
        Connaître la valeur en USD->EUR ou EUR->USD
    </button>
</div>

<script type="text/javascript">

    function convert()
    {
        console.log("convert()");

        let value = document.getElementById("value").value;
        let currencies = document.getElementById("currencies");
        let currency = currencies.options[currencies.selectedIndex].value;
        let baseCurrency = "";
        let ratio = 0;
        let message = "";
        let result = 0;


        if(currency == 'eur')
        {
            ratio = 1.079;
            baseCurrency = 'USD';
            currency = 'EUR';
        }
        else if(currency == 'eur')
        {
            ratio = 0.932;
            baseCurrency = 'EUR';
            currency = 'USD';
        }

        if(!(value > 0))
        {
            message = "Please insert a value.";
        }
        else
        {
            result = value * ratio;

            message = value + " " + baseCurrency + " -> " + result + " " + currency;
        }

        alert(message);
    }

</script>
</body>
</html>
